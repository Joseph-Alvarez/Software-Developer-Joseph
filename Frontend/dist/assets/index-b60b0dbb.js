(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();const{createApp:c}=Vue,i=c({data(){return{searchQuery:"",results:[],loading:!1,stats:{totalEmails:0}}},methods:{async search(){if(this.searchQuery.trim()){this.loading=!0;try{console.log("Searching for:",this.searchQuery);const s=await fetch(`/api/search?q=${encodeURIComponent(this.searchQuery)}`);console.log("Search response status:",s.status);const r=await s.json();console.log("Search results:",r),this.results=r.hits.hits}catch(s){console.error("Search error:",s),this.results=[]}finally{this.loading=!1}}},async getStats(){try{console.log("Fetching stats...");const s=await fetch("/api/stats");console.log("Stats response status:",s.status);const r=await s.json();console.log("Stats data:",r),this.stats.totalEmails=r.total_emails}catch(s){console.error("Stats error:",s)}}},mounted(){console.log("App mounted, fetching initial stats..."),this.getStats()}});i.mount("#app");
